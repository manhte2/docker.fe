import{f as h,a8 as x,r as n,q as f,a9 as g,i as b,j as e,z as j,aa as y,ab as w,I as S,k as E,o as F,a as L,B as c,l as q}from"./index-DCVJyVHf.js";import{L as v}from"./LayoutAuthentication-u7fbQ64F.js";const A=h({email:x().required("This field is required").email("Incorrect email format")}).required(),k=()=>{const[m,o]=n.useState(!1),{email:t,role:i}=f(r=>r.auth),s=g(),{handleSubmit:u,control:d}=b({resolver:F(A),mode:"onSubmit"});n.useEffect(()=>{t&&s(i===1?"/admin/dashboard":"/user/dashboard")},[t,s,i]);const p=async r=>{var l;try{o(!0),await L.post("/users/forgot-password",r),c.success("Kiểm tra email của bạn để đặt lại mật khẩu")}catch(a){if(q.isAxiosError(a))console.log("error message: ",a),c.error((l=a.response)==null?void 0:l.data.message);else return console.log("unexpected error: ",a),"An unexpected error occurred"}finally{o(!1)}};return e.jsxs(v,{heading:"",children:[m&&e.jsx(j,{}),e.jsxs("form",{className:"space-y-[15px] md:space-y-5",onSubmit:u(p),children:[e.jsxs(y,{children:[e.jsx(w,{htmlFor:"email",children:"Email*"}),e.jsx(S,{name:"email",placeholder:"example@gmail.com",control:d})]}),e.jsx(E,{type:"submit",className:"w-full text-white bg-primary",children:"Forgot password"})]})]})};export{k as default};
