import{r as l,a as p,j as e,ar as j,af as k,as as ie,at as de,ah as _,ak as A,ag as ue,B as c,S as b,l as C,f as U,a8 as X,i as V,o as Y,aj as me,k as W,am as Z,z as xe,H as J,L as he,b as H,au as ge,C as pe,p as fe,R as ye,d as je,I as ve,m as be}from"./index-DCVJyVHf.js";import{R as q}from"./Radio-DZfiCLHa.js";import{E as Ne}from"./EditKeyLimitForm-DBGrrKn0.js";import{C as G}from"./Checkbox-CT2LGWNP.js";const Ce=({error:r,location:a,onSelectLocation:i})=>{var L;const[n,h]=l.useState([]),[g,t]=l.useState("normal");l.useEffect(()=>{d()},[]);const d=async()=>{try{const u=await p.get("/locations");h(u.data)}catch(u){console.log("error - ",u)}},y=async u=>{try{await p.post("/locations",{name:u}),d(),c.success("Thêm thành công")}catch(v){console.log("error - ",v)}},B=async u=>{var v;try{const{isConfirmed:f}=await b.fire({title:'<p class="leading-tight">Bạn có muốn mua xóa location này</p>',icon:"success",showCancelButton:!0,confirmButtonColor:"#1DC071",cancelButtonColor:"#d33",cancelButtonText:"Thoát",confirmButtonText:"Đồng ý"});f&&(await p.delete(`/locations/${u}`),d(),c.success("Xóa thành công"))}catch(f){if(C.isAxiosError(f))console.log("error message: ",f),c.error((v=f.response)==null?void 0:v.data.message);else return console.log("unexpected error: ",f),"An unexpected error occurred"}},S=async(u,v)=>{var f;try{const{isConfirmed:N}=await b.fire({title:'<p class="leading-tight">Bạn có muốn mua sửa location này</p>',icon:"success",showCancelButton:!0,confirmButtonColor:"#1DC071",cancelButtonColor:"#d33",cancelButtonText:"Thoát",confirmButtonText:"Đồng ý"});N&&(await p.patch(`/locations/${u}`,{name:v}),d(),c.success("Sửa thành công"))}catch(N){if(C.isAxiosError(N))console.log("error message: ",N),c.error((f=N.response)==null?void 0:f.data.message);else return console.log("unexpected error: ",N),"An unexpected error occurred"}};return e.jsxs(j,{children:[e.jsx(j.Select,{className:k(r?"!border-error":""),placeholder:a?e.jsx("span",{className:"text-black",children:(L=n.find(u=>u.name===a))==null?void 0:L.name}):r?e.jsx("span",{className:"text-error",children:r}):e.jsx("span",{className:"text-text4",children:"Select Location"})}),e.jsxs(j.List,{children:[e.jsxs("div",{className:"flex items-center gap-3 justify-between",children:[e.jsx(j.Search,{placeholder:"Add location",onSubmit:u=>y(u)}),g==="normal"?e.jsx("span",{className:"pr-5 cursor-pointer",onClick:()=>t("action"),children:e.jsx(ie,{className:"w-5 h-5"})}):e.jsx("span",{className:"pr-5 cursor-pointer",onClick:()=>t("normal"),children:e.jsx(de,{className:"w-5 h-5"})})]}),n.length>0&&g==="normal"&&n.map(u=>e.jsx(j.Option,{onClick:()=>i(u.name),children:e.jsx("span",{className:"capitalize",children:u.name})},_())),n.length>0&&g==="action"&&n.map(u=>e.jsx(we,{location:u,onRemove:()=>B(u._id),onEdit:v=>S(u._id,v)},_()))]})]})},we=({location:r,onRemove:a,onEdit:i})=>{const[n,h]=l.useState(r.name),g=l.useRef(null);return e.jsxs("div",{className:"items-center flex gap-4 w-full px-5 py-4 text-sm",children:[e.jsx("div",{className:"relative w-full",children:e.jsx("input",{ref:g,type:"text",value:n,onChange:t=>h(t.target.value),className:"outline-none caret-primary w-full"})}),e.jsx("span",{onClick:()=>i(n),className:"cursor-pointer",children:e.jsx(A,{className:"w-4 h-4 text-icon-color hover:text-secondary"})}),e.jsx("span",{className:"cursor-pointer",onClick:()=>a(),children:e.jsx(ue,{className:"w-5 h-5 text-icon-color hover:text-secondary"})})]})},ke=({onSelect:r,data:a,error:i})=>{var g;const[n,h]=l.useState([]);return l.useEffect(()=>{(async()=>{try{const t=await p.get("/cloud-managers");h(t.data.listData)}catch{c.error("Xảy ra lỗi trong quá trình xử lý")}})()},[]),e.jsxs(j,{children:[e.jsx(j.Select,{placeholder:a?e.jsx("span",{className:"text-black",children:(g=n.find(t=>t._id===a))==null?void 0:g.name}):i?e.jsx("span",{className:"text-error",children:i}):e.jsx("span",{className:"text-text4",children:"Select Cloud"})}),e.jsx(j.List,{children:n.length>0&&n.map(t=>t.status===1?e.jsx(j.Option,{onClick:()=>r(t._id),children:e.jsx("span",{className:"capitalize",children:t.name})},t._id):null)})]})},Se=U({value:X()}).required(),Be=({placeholder:r,initialValue:a,handleSubmitRemark:i})=>{const{handleSubmit:n,control:h}=V({resolver:Y(Se),mode:"onSubmit",defaultValues:{value:a}}),g=t=>{try{t.value&&i(t.value)}catch(d){console.log(d)}};return e.jsxs("form",{className:"flex items-end",onSubmit:n(g),children:[e.jsx("div",{className:"w-full",children:e.jsx(me,{name:"value",placeholder:r,control:h,className:"h-[100px]"})}),e.jsx(W,{type:"submit",className:"text-gray-500 px-4",children:e.jsx(A,{})})]})},Le=({initialLocation:r,onSubmit:a})=>{const[i,n]=l.useState(r);return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-full",children:e.jsx(Ce,{location:i,onSelectLocation:h=>n(h)})}),e.jsx("button",{type:"submit",className:"text-gray-500 px-4",onClick:()=>a(i),children:e.jsx(A,{})})]})},Te=({className:r=""})=>e.jsx("span",{children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:k("size-5",r),children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"})})}),Ee=({server:r,handleSubmit:a=()=>{},icon:i=!1})=>{const[n,h]=l.useState(r.isConnectKuma!==1),[g,t]=l.useState(!1),d=async()=>{try{t(!0);const{name:y,hostnameForAccessKeys:B,portForNewAccessKeys:S}=r;await p.post("/kuma/create",{name:y,hostname:B,portC:`${S}`,status:r.status}),h(!1),a(),c.success("Connect Kuma success")}catch{c.error("Xảy ra lỗi")}finally{t(!1)}};if(n)return e.jsx("button",{type:"button",className:k("text-xs font-medium text-white rounded-lg bg-primary20 flex items-center justify-center",i?"w-7 aspect-square":"p-2 w-28"),onClick:d,children:g?e.jsx("div",{className:"w-4 h-4 border-white border-2 border-solid border-t-transparent animate-spin rounded-full"}):e.jsx(Z.Fragment,{children:i?e.jsx(Te,{}):"Connect"})})},Ae=({className:r=""})=>e.jsx("span",{children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:k("size-5",r),children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.412 15.655 9.75 21.75l3.745-4.012M9.257 13.5H3.75l2.659-2.849m2.048-2.194L14.25 2.25 12 10.5h8.25l-4.707 5.043M8.457 8.457 3 3m5.457 5.457 7.086 7.086m0 0L21 21"})})}),Ke=({server:r,onSubmit:a=()=>{},icon:i=!1})=>{const[n,h]=l.useState(r.isConnectKuma!==0),[g,t]=l.useState(!1),d=async()=>{try{const{isConfirmed:y}=await b.fire({title:'<p class="leading-tight">Bạn có muốn remove kuma</p>',icon:"success",showCancelButton:!0,confirmButtonColor:"#1DC071",cancelButtonColor:"#d33",cancelButtonText:"Thoát",confirmButtonText:"Đồng ý"});y&&(t(!0),await p.post("/kuma/remove",{id:r._id}),h(!1),a(),c.success("Thành công"))}catch{c.error("Xảy ra lỗi")}finally{t(!1)}};if(n)return e.jsx("button",{type:"button",className:k("text-xs font-medium text-white rounded-lg bg-error flex items-center justify-center",i?"w-7 aspect-square":"p-2 w-28"),onClick:d,children:g?e.jsx("div",{className:"w-4 h-4 border-white border-2 border-solid border-t-transparent animate-spin rounded-full"}):e.jsx(Z.Fragment,{children:i?e.jsx(Ae,{}):"Remove Kuma"})})},D=({handleFetchServerDetail:r,serverId:a,status:i,heading:n})=>{var O;const[h,g]=l.useState(!1),[t,d]=l.useState(!1),[y,B]=l.useState([]),[S,L]=l.useState(1),[u,v]=l.useState(10),[f,N]=l.useState(),[T,E]=l.useState([]),[ee,$]=l.useState(!1),[K,R]=l.useState(),[w,F]=l.useState(void 0),[P,I]=l.useState();l.useEffect(()=>{se()},[]),l.useEffect(()=>{ae()},[S,u]);const se=async()=>{try{const s=await p.get("/servers/server-to-migrate");B(s.data)}catch(s){console.log(s)}},ae=async()=>{try{g(!0);const s=await p.get(`/keys/outline-data-usage?serverId=${a}`,{params:{page:S,status:i,pageSize:u}});N({data:s.data.data,totalItems:s.data.totalItems})}catch{c.error("Xảy ra lỗi trong quá trình xử lý")}finally{g(!1)}},te=async(s,m)=>{var o;try{const{isConfirmed:x}=await b.fire({title:'<p class="leading-tight">Bạn có muốn migate key này</p>',icon:"success",showCancelButton:!0,confirmButtonColor:"#1DC071",cancelButtonColor:"#d33",cancelButtonText:"Thoát",confirmButtonText:"Đồng ý"});x&&(d(!0),await p.post("/keys/migrate",{keyId:s,serverId:m}),r(),M(),c.success("Migrate key thành công"))}catch(x){if(C.isAxiosError(x))console.log("error message: ",x),c.error((o=x.response)==null?void 0:o.data.message);else return console.log("unexpected error: ",x),"An unexpected error occurred"}finally{d(!1)}},re=async(s,m)=>{var o;try{const{isConfirmed:x}=await b.fire({title:'<p class="leading-tight">Bạn có muốn migate những key đã chọn</p>',icon:"success",showCancelButton:!0,confirmButtonColor:"#1DC071",cancelButtonColor:"#d33",cancelButtonText:"Thoát",confirmButtonText:"Đồng ý"});x&&(d(!0),await p.post("/keys/multi-migrate",{listKeyId:m,serverId:s}),r(),M(),E([]),c.success("Migrate key thành công"))}catch(x){if(C.isAxiosError(x))console.log("error message: ",x),c.error((o=x.response)==null?void 0:o.data.message);else return console.log("unexpected error: ",x),"An unexpected error occurred"}finally{d(!1)}},ne=async s=>{var m;try{const{isConfirmed:o}=await b.fire({title:'<p class="leading-tight">Bạn có muốn disable key này</p>',icon:"success",showCancelButton:!0,confirmButtonColor:"#1DC071",cancelButtonColor:"#d33",cancelButtonText:"Thoát",confirmButtonText:"Đồng ý"});o&&(await p.get(`/keys/disable/${s}`),r(),c.success("Disable thành công"))}catch(o){if(C.isAxiosError(o))console.log("error message: ",o),c.error((m=o.response)==null?void 0:m.data.message);else return console.log("unexpected error: ",o),"An unexpected error occurred"}},oe=async s=>{var m;try{const{isConfirmed:o}=await b.fire({title:'<p class="leading-tight">Bạn có muốn enable key này</p>',icon:"success",showCancelButton:!0,confirmButtonColor:"#1DC071",cancelButtonColor:"#d33",cancelButtonText:"Thoát",confirmButtonText:"Đồng ý"});o&&(await p.get(`/keys/enable/${s}`),r(),c.success("Enable thành công"))}catch(o){if(C.isAxiosError(o))console.log("error message: ",o),c.error((m=o.response)==null?void 0:m.data.message);else return console.log("unexpected error: ",o),"An unexpected error occurred"}},ce=async(s,m)=>{var o;try{const{isConfirmed:x}=await b.fire({title:'<p class="leading-tight">Bạn có muốn sửa data limit key này</p>',icon:"success",showCancelButton:!0,confirmButtonColor:"#1DC071",cancelButtonColor:"#d33",cancelButtonText:"Thoát",confirmButtonText:"Đồng ý"});x&&(await p.patch(`/keys/add-data-limit/${s}`,{data:m}),r(),c.success("Thành công"))}catch(x){if(C.isAxiosError(x))console.log("error message: ",x),c.error((o=x.response)==null?void 0:o.data.message);else return console.log("unexpected error: ",x),"An unexpected error occurred"}},z=()=>{$(!0)},M=()=>{K&&R(void 0),F(void 0),I(void 0),$(!1)},le=(s,m)=>{L(1),v(m)};return!f||f.data.length===0?null:f.data.length>0?e.jsxs(e.Fragment,{children:[t&&e.jsx(xe,{}),e.jsxs("div",{className:"space-y-7",children:[e.jsxs("div",{className:"flex items-center justify-between h-14",children:[e.jsx(J,{children:n}),i===1&&e.jsxs("button",{className:"p-2 text-xs font-medium text-white rounded-lg bg-secondary20",onClick:()=>{T.length>0?(I("multiple"),z()):c.warn("Bạn chưa chọn key để migrate")},children:["Migrate (select ",T.length," keys)"]})]}),h?e.jsx("p",{className:"text-center",children:"Loading ..."}):e.jsx("div",{className:"w-full space-y-5 overflow-x-scroll text-sm",children:e.jsxs("div",{className:"grid grid-cols-5 w-[1180px] lg:w-full",children:[e.jsxs("div",{className:"flex col-span-2 pb-3",children:[e.jsx("div",{className:"px-4 font-semibold",children:e.jsx(G,{checked:T.length===f.data.length,onClick:s=>E(s?[]:f.data.map(m=>m._id))})}),e.jsx("div",{className:"px-4 font-semibold",children:"#"}),e.jsx("div",{className:"flex-1 px-4 font-semibold",children:"OrderID"}),e.jsx("div",{className:"flex-1 px-4 font-semibold",children:"Email"}),e.jsx("div",{className:"flex-1 px-4 font-semibold",children:"Usage"}),e.jsx("div",{className:"flex-1 px-4 font-semibold",children:"Outline Usage"})]}),e.jsxs("div",{className:"flex col-span-3 pb-3",children:[e.jsx("div",{className:"px-4 font-semibold",children:"Limit"}),e.jsx("div",{className:"px-4 font-semibold",children:"Status"}),e.jsx("div",{className:"text-end flex-1 px-4 font-semibold",children:"Actions"})]}),f.data.length>0&&f.data.map(s=>e.jsxs("div",{className:"grid grid-cols-5 col-span-5 py-5 border border-gray-200 rounded-xl",children:[e.jsxs("div",{className:"flex items-center col-span-2",children:[e.jsx("div",{className:"px-4 font-semibold",children:e.jsx(G,{checked:T.some(m=>m===s._id),onClick:m=>E(m?o=>o.filter(x=>x!==s._id):o=>[...o,s._id])})}),e.jsx("div",{className:"px-4",children:s.keyId}),e.jsx(he,{to:`/admin/key/${s._id}`,className:"flex-1 px-4 text-primary font-medium hover:underline hover:decoration-primary",children:s.name||"no name"}),e.jsx("div",{className:"flex-1 px-4",children:s.account}),e.jsx("div",{className:"px-4 flex-1",children:s.dataUsage?`${(s.dataUsage/1e3/1e3/1e3).toFixed(2)} GB`:"00.00 GB"}),e.jsx("div",{className:"px-4 flex-1",children:s.dataUsage?`${(s.realtimeDataUsage/1e3/1e3/1e3).toFixed(2)} GB`:"00.00 GB"})]}),e.jsxs("div",{className:"flex items-center col-span-3",children:[e.jsxs("div",{className:"px-4",children:[s.dataExpand/1e3/1e3/1e3,"GB"]}),e.jsxs("div",{className:"px-4",children:[(s==null?void 0:s.enable)&&e.jsx(H,{color:"green",children:"Hoạt động"}),!(s!=null&&s.enable)&&e.jsx(H,{color:"red",children:"Ngưng hoạt động"})]}),e.jsxs("div",{className:"flex items-center justify-end flex-1 gap-2 px-4",children:[s.status===1&&s.enable?e.jsxs(e.Fragment,{children:[e.jsx(Ne,{placeholder:`${s.dataLimit/1e3/1e3/1e3} GB`,handleAddLimitData:m=>ce(s.keyId,m)}),e.jsx("button",{className:"p-2 text-xs font-medium text-white rounded-lg bg-secondary20",onClick:()=>{I("single"),R(s._id),z()},children:"Migrate"}),e.jsx("button",{className:"p-2 text-xs font-medium text-white rounded-lg bg-secondary20",onClick:()=>ne(s._id),children:"Disable"}),e.jsx("button",{className:"p-2 text-xs font-medium text-white rounded-lg bg-secondary20",onClick:async()=>{var m;try{const{isConfirmed:o}=await b.fire({title:'<p class="leading-tight">Bạn có nâng cấp key này</p>',icon:"success",showCancelButton:!0,confirmButtonColor:"#1DC071",cancelButtonColor:"#d33",cancelButtonText:"Thoát",confirmButtonText:"Có, nâng cấp ngay"});o&&(await p.patch(`/keys/upgrade/${s._id}`),r(),c.success("Thành công"))}catch(o){if(C.isAxiosError(o))console.log("error message: ",o),c.error((m=o.response)==null?void 0:m.data.message);else return console.log("unexpected error: ",o),"An unexpected error occurred"}},children:"Gia hạn"})]}):null,s.status===1&&!s.enable&&e.jsx("button",{className:"p-2 text-xs font-medium text-white rounded-lg bg-secondary20",onClick:()=>oe(s._id),children:"Enable"})]})]})]},_()))]})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(ge,{defaultCurrent:1,total:f.totalItems,onChange:s=>L(s),pageSize:u,hideOnSinglePage:!0,onShowSizeChange:le,showSizeChanger:!0})})]}),e.jsxs(pe,{title:"Chọn máy chủ",open:ee,onCancel:()=>{M()},footer:[],children:[e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"font-primary",children:"Chọn máy chủ để migrate key"}),K&&y.filter(s=>s._id!==a).length===0&&e.jsx("p",{className:"text-error font-primary",children:"Bạn cần thêm server mới để migrate key sang"})]}),e.jsx("div",{className:"mb-5",children:e.jsxs(j,{children:[e.jsx(j.Select,{placeholder:w?e.jsx("span",{className:"text-black",children:(O=y.find(s=>s._id===w))==null?void 0:O.name}):e.jsx("span",{className:"text-text4",children:"Chọn server"})}),e.jsx(j.List,{children:[...y.filter(s=>s.status===1),...y.filter(s=>s.status===3)].map(s=>e.jsx(j.Option,{onClick:()=>F(s._id),children:e.jsxs("span",{className:k("capitalize",w===s._id?"font-semibold text-primary":""),children:[s.name," (",s.numberKey," keys)"," ",s.status===3&&e.jsx("span",{className:"text-error",children:"*"})]})},_()))})]})}),e.jsxs("div",{className:"flex items-center justify-end gap-5",children:[e.jsx("button",{className:"px-4 py-2 text-sm font-medium text-white rounded-lg bg-error font-primary",onClick:()=>M(),children:"Thoát"}),e.jsx("button",{className:"px-4 py-2 text-sm font-medium text-white rounded-lg bg-secondary40 font-primary",onClick:()=>{P==="single"?K&&w?te(K,w):c.warn("bạn chưa chọn server để migrate key sang"):P==="multiple"&&(w?re(w,T):c.warn("bạn chưa chọn server để migrate key sang"))},children:"Migrate key"})]})]})]}):null},Me=({initialLocation:r,onSubmit:a})=>{const[i,n]=l.useState(r);return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-full",children:e.jsx(ke,{onSelect:h=>n(h),data:i})}),e.jsx("button",{type:"submit",className:"text-gray-500 px-4",onClick:()=>a(i),children:e.jsx(A,{})})]})},_e=()=>{const{serverId:r}=fe(),[a,i]=l.useState();l.useEffect(()=>{n()},[r]);const n=async()=>{try{const t=await p.get(`/servers/${r}`);i(t.data)}catch{c.error("Xảy ra lỗi trong quá trìn xử lý")}},h=async t=>{if(a)try{await p.patch(`/servers/location/${a._id}`,{location:t}),n(),c.success("Thành công")}catch(d){console.log("error - ",d)}},g=async t=>{if(a)try{await p.patch(`/servers/cloud-manager/${a._id}`,{cloudManagerId:t}),n(),c.success("Thành công")}catch(d){console.log("error - ",d)}};return e.jsx(ye,{rolePage:[1,3],children:e.jsx("div",{className:"space-y-10",children:a&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-7",children:[e.jsx(J,{children:"Server"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:[e.jsxs("div",{className:"col-span-1 md:col-span-2 lg:col-span-3 p-3 space-y-1 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-500",children:"Remark"}),e.jsx("div",{children:e.jsx(Be,{placeholder:"Remark",initialValue:a.remark,handleSubmitRemark:async t=>{try{await p.patch(`/servers/remark/${a._id}`,{remark:t}),n(),c.success("Thành công")}catch(d){console.log("error - ",d)}}})})]}),e.jsxs("div",{className:"col-span-1 p-3 space-y-1 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-500",children:"Server name"}),e.jsx("div",{children:e.jsx(Q,{placeholder:a.name,handleEdit:async t=>{try{await p.patch(`/servers/name-server/${a._id}`,{name:t}),n(),c.success("Thành công")}catch(d){console.log("error - ",d)}}})})]}),e.jsxs("div",{className:"col-span-1 p-3 space-y-1 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-500",children:"Location"}),e.jsx("div",{children:e.jsx(Le,{initialLocation:a.location,onSubmit:t=>{h(t)}})})]}),e.jsxs("div",{className:"col-span-1 p-3 space-y-1 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-500",children:"Cloud"}),e.jsx("div",{children:e.jsx(Me,{initialLocation:a.cloudManagerId,onSubmit:t=>{console.log("value ~ ",t),g(t)}})})]}),e.jsxs("div",{className:"col-span-1 p-3 space-y-1 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-500",children:"Hostname"}),e.jsx("div",{children:a.hostnameForAccessKeys})]}),e.jsxs("div",{className:"col-span-1 p-3 space-y-1 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-500",children:"Port for new access key"}),e.jsx("div",{children:a.portForNewAccessKeys})]}),e.jsxs("div",{className:"col-span-1 p-3 space-y-1 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-500",children:"Created"}),e.jsx("div",{children:je(a.createdAt).format("YYYY-MM-DD HH:MM")})]}),e.jsxs("div",{className:"col-span-1 p-3 space-y-1 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-500",children:"Server ID"}),e.jsx("div",{children:a.serverId})]}),e.jsxs("div",{className:"col-span-1 p-3 space-y-1 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-500",children:"Share anonymous metrics"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(q,{checked:!!a.metricsEnabled,children:"Enable"}),e.jsx(q,{checked:!a.metricsEnabled,children:"Disabled"})]})]}),e.jsxs("div",{className:"col-span-1 p-3 space-y-1 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-500",children:"Server version"}),e.jsx("div",{children:a.version})]}),e.jsxs("div",{className:"col-span-1 p-3 space-y-1 border border-gray-200 rounded-lg",children:[e.jsx("div",{className:"font-medium text-gray-500",children:"Kuma"}),e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx(Ee,{server:a,handleSubmit:n}),e.jsx(Ke,{server:a,onSubmit:n})]})]})]})]}),e.jsx(D,{handleFetchServerDetail:n,serverId:r,status:1,heading:"Keys Active"}),e.jsx(D,{handleFetchServerDetail:n,serverId:r,status:0,heading:"Keys Inactive"}),e.jsx(D,{handleFetchServerDetail:n,serverId:r,status:2,heading:"Keys Migrate"})]})})})},Ie=U({value:X()}).required(),Q=({placeholder:r="",handleEdit:a,isButtonSubmit:i=!0,containerClass:n=""})=>{const{handleSubmit:h,control:g}=V({resolver:Y(Ie),mode:"onSubmit",defaultValues:{value:r}}),t=d=>{try{d.value&&a(d.value)}catch{c.error(be.error)}};return e.jsxs("form",{className:k("flex items-center",n),onSubmit:h(t),children:[e.jsx("div",{className:"w-full",children:e.jsx(ve,{name:"value",placeholder:r,control:g,className:"placeholder:text-gray-500"})}),i&&e.jsx(W,{type:"submit",className:"px-4 text-gray-500",children:e.jsx(A,{})})]})},Pe=Object.freeze(Object.defineProperty({__proto__:null,EditServerForm:Q,default:_e},Symbol.toStringTag,{value:"Module"}));export{Ee as B,Q as E,Ce as P,Pe as S,Ke as a,ke as b};
